<% include nav.ejs %>

<script type="text/javascript" src="/js/ichartjs/ichart.1.2.min.js"></script>
<script type="text/javascript" src="/js/jquery-1.10.2.js"></script>
<link rel="stylesheet" href="/css/ichartjs/demo.css" type="text/css"/>
<% include select_date.ejs %>
<% include save_print.ejs %>

<script type="text/javascript">
    //线型图表
    $(function(){
        var click    = [90000,90000,98000,90000,97000,99000,90000,90000,98000,92000,97000,99000,90000,90000,98000,90000,97000,99000,90000,97000,98000,92000,97000,99000,92000,93000,96000,91000,94000,94000,92000],
            download = [89000,80000,80000,88000,80000,87000,89000,88000,80000,87000,84000,80000,89000,81000,80000,88000,81000,87000,89000,88000,83000,87000,84000,84000,89000,80000,83000,88000,80000,87000,89000],
            install  = [78000,70000,77000,79000,78000,70000,77000,79000,70000,73000,70000,70000,78000,70000,77000,79000,78000,70000,77000,89000,80000,83000,80000,70000,78000,90000,87000,89000,78000,90000,87000],
            register = [70000,78000,90000,87000,89000,78000,78000,90000,87000,76000,78000,90000,70000,78000,90000,87000,89000,78000,78000,90000,87000,76000,78000,90000,70000,78000,90000,87000,89000,78000,78000];

        var data = [
            {
                name : '点击次数',
                value:click,
                color:'#0d8ecf',
                line_width:2
            },
            {
                name : '下载次数',
                value:download,
                color:'#ef7707',
                line_width:2
            },
            {
                name : '安装次数',
                value:install,
                color:'#660033',
                line_width:2
            },
            {
                name : '注册次数',
                value:register,
                color:'#66FF33',
                line_width:2
            }
        ];

        var labels = []; //= ["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"];
        for(var i=0;i<31;i++){
            labels[i] = i+1;
        }
        var line = new iChart.LineBasic2D({
            render : 'canvasDiv',
            data: data,
            align:'center',
            title : '2014年12个月点击下载安装注册人数',
            subtitle : '平均每月的人数(访问量单位：万)',
            footnote : '数据来源：点击下载安装注册数',
            width : 1100,
            height : 400,
            tip:{
                enable:true,
                shadow:true
            },
            legend : {
                enable : true,
                row:1,//设置在一行上显示，与column配合使用
                column : 'max',
                valign:'top',
                sign:'bar',
                background_color:null,//设置透明背景
                offsetx:-80,//设置x轴偏移，满足位置需要
                border : true
            },
            crosshair:{
                enable:true,
                line_color:'#62bce9'
            },
            sub_option : {
                label:false,
                point_hollow : false
            },
            coordinate:{
                width:900,
                height:240,
                axis:{
                    color:'#9f9f9f',
                    width:[0,0,2,2]
                },
                grids:{
                    vertical:{
                        way:'share_alike',
                        value:30//割线
                    }
                },
                scale:[{
                    position:'left',
                    start_scale:0,
                    end_scale:120000,//设置结束刻度
                    scale_space:20000,//设置刻度间距
                    scale_size:2,
                    scale_color:'#9f9f9f'

                },{
                    position:'bottom',
                    labels:labels
                }]
            }
        });

        //开始画图
        line.draw();
    });

</script>
<div class="row">
<div class="col-lg-12">
    <div id='canvasDiv'></div>
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>次数</th>
            <% for(var i=1;i<32;i++){ %>
                <th><%=i%></th>
            <% } %>
        </tr>

        </thead>
        <tbody>
            <tr>
            <td>点击</td>
            <% click.forEach(function( a ){%>
                <td><%= a %></td>
            <%});%>
            </tr>
            <tr>
                <td>下载</td>
                <% download.forEach(function( a ){%>
                <td><%= a %></td>
                <%});%>
            </tr>
            <tr>
                <td>安装</td>
                <% install.forEach(function( a ){%>
                <td><%= a %></td>
                <%});%>
            </tr>
            <tr>
                <td>注册</td>
                <% register.forEach(function( a ){%>
                <td><%= a %></td>
                <%});%>
            </tr>
        </tbody>
    </table>
    <div class='ichartjs_info'>
        <div class='ichartjs_sm'>说明</div>
        <div class='ichartjs_details'>
            这是一个很常见的的折线图示例，示例展示了网站最近5天的流量统计。每隔6个小时统计一次。此示例用了平滑曲线代替直线。
        </div>
        <span class='ichartjs_sm'>备注：</span>
        <span class='ichartjs_details'>数据均为模拟。</span>
    </div>
</div>
</div>
<% include footer.ejs %>